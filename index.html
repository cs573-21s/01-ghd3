<script src="https://d3js.org/d3.v6.min.js"></script>

<div id="value"> </div>
<svg id="vis"></svg>
<div id="group1"></div>

<style>
  body {
    background-color: rgb(239, 240, 178);
  }
</style>

<script>
  console.log(d3); // test if d3 is loaded
  // Add an SVG
  // Add Rectangles
  // Add Circles
  // Add Lines
  // Add Polygons 
  var data0 = [25,30,35,40,45,50,55];
  var data1 = [30];
  var data2 = [39];
  var data3 = [{x: 220, y: 700}, {x: 240, y: 680}, 
               {x: 260, y: 660}, {x: 280, y: 640}, 
               {x: 280, y: 620}, {x: 300, y: 600}];
  var data4 = [{x: 200, y: 750}, {x: 400, y: 100}, {x: 600, y: 750}]

  var t = d3.transition().duration(2500).delay(1000);

  var svg = d3.select('#vis').attr('width', 1000).attr('height', 1000);

  var xscale = d3.scaleLinear()
    .domain([0, 100])
    .range([0, 1000]);

  var yscale = d3.scaleLinear()
    .domain([0, 500])
    .range([0, 1000]);

var lineFunc = d3.line()
  .x(function(d) { return d.x })
  .y(function(d) { return d.y })

svg.append('g').attr('id', 'group0');

svg.select('group0').selectAll('path').append('path')
  .attr('d', lineFunc(data4))
  .attr('width', '50')
  .attr('stroke', 'green')
  .attr('fill', 'green');

svg.append('g').attr('id', 'group1');

svg.select('group1').selectAll('path').append('path')
  .attr('d', lineFunc(data3))
  .attr('width', '50')
  .attr('stroke', 'yellow')
  .attr('fill', 'none');

 
  svg.selectAll('circle')
   .data(data0)
   .enter().append('circle')
   .attr('cx', function(d) { console.log(d); return xscale(d); } )
   .attr('r', 10)
   .attr('cy', 700)
   .attr('fill', 'red')
   .on('mouseover', function(e, d) { 
      d3.select(this).attr('fill', 'white'); })
    .on('mouseout', function() {d3.select(this).attr('fill', 'red'); });
    
  svg.append('g').attr('id', 'group2');

  svg.selectAll('rect').select('group2')
   .data(data1)
   .enter().append('rect')
   .attr('x', function(d) { console.log(d); return xscale(d); } )
   .attr('y', 100)
   .attr('width', 20)
   .attr('height', 20)
   .attr('fill', 'yellow')
   .on('mouseover', function(e, d) {
      d3.select(this).attr('fill', 'orange');
      d3.select('#value').text(d); })
   .on('mouseout', function() {d3.select(this).attr('fill', 'yellow'); })
  .attr('transform', 'translate(259, -200) rotate(45)')
  .transition(t)
  .ease(d3.easeLinear)
  .attr("height", 50).attr("width", 50);

  svg.append('g').attr('id', 'group3');

  svg.selectAll('rect').select('group3')
   .data(data2)
   .enter().append('rect')
   .attr('x', function(d) { console.log(d); return xscale(d); } )
   .attr('y', 750)
   .attr('width', 20)
   .attr('height', 50)
   .attr('fill', 'brown');




//HELP FROM https://www.d3-graph-gallery.com/graph/shape.html
  
</script> 